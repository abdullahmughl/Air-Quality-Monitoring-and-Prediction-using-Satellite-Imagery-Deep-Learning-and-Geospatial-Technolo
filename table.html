<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS -->
    <!-- CSS only -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <!-- JavaScript Bundle with Popper -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Awair Web Portal</title>
  </head>
  <body>
      <section id="nav-bar">
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="index.html">Awair</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <!-- <span class="navbar-toggler-icon"></span> -->
                <i class="fa fa-bars"></i>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                  <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="stats.html">Stats</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link"  id="alink" aria-current="page" href="#">Tables</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="maps.html">Maps</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" style="width: 250px;" href="forecasted_map.html">Forecasted Maps</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
      </section>
    
      <section id="tables_sec">

</br>
          <div class="container">
            <div class="rowc offset-3 col-6">

                <div class="input-group rounded">
                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
                    aria-describedby="search-addon" />
                    <span class="input-group-text border-0" id="search-addon">
                        <i class="fa fa-search"></i>
                    </span>
                </div>
            </div>
            </div>
    </br>
</br>
          <div class="container">
        <div class="row">

                <div class="col-6 form-group row">
                    <label for="example-date-input" class="col-4 col-form-label">Start Date</label>
                    <div class="col-8">
                        <input class="form-control" type="date" value="2019-12-01" id="start-date-input">
                    </div>
                </div> 
                <!-- <div class="col-4"></div> -->
                <div class="col-6 form-group row">
                    <label for="example-date-input" class="col-4 col-form-label">End Date</label>
                    <div class="col-8">
                        <input class="form-control" type="date" value="2020-10-22" id="end-date-input">
                    </div>
                </div>
            </div>
                
        </div>

</br>
</br>
      </section>

      <!-- <section id="tables_sec"> -->
          <!-- <div class="container">
              <div class="row">
                  <div class="col-12">
                      <h4 class="text-align justify-content-center"> NO<sub>2</sub> Date Prediction Table</h4>
                      <table class="table">
                          <thead style="background-color: grey; border: 1px solid black; border-radius: 20px;" >
                              <tr  style="border-radius: 20px;">
                                  <th>Date</th>
                                  <th>NO<sub>2</sub></th>
                                  <th>NO<sub>2<sub>(Predicted)</sub></sub> (1 Day)</th>
                                  <th>NO<sub>2<sub>(Predicted)</sub></sub> (1 Week)</th>
                                  <th>NO<sub>2<sub>(Predicted)</sub></sub> (1 Month)</th>
                              </tr>
                              
                          </thead>
                          <tbody id="myTable">
                              
                          </tbody>
                      </table>   
                  </div>
              </br>
              <hr>
                  <div class="col-12">
                      <table class="table">
                          <h4 class="text-align justify-content-center"> SO<sub>2</sub> Date Prediction Table</h4>
                          <thead style="background-color: grey; border: 1px solid black; border-radius: 20px;" >
                              <tr  style="border-radius: 20px;">
                                  <th>Date</th>
                                  <th>SO<sub>2</sub></th>
                                  <th>SO<sub>2<sub>(Predicted)</sub></sub> (1 Day)</th>
                                  <th>SO<sub>2<sub>(Predicted)</sub></sub> (1 Week)</th>
                                  <th>SO<sub>2<sub>(Predicted)</sub></sub> (1 Month)</th>
                              </tr>
                              
                          </thead>
                          <tbody id="myTable2">
                              
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
          <div class="container">
              <div class="row">
                  <div class="col-12">
                      <h4 class="text-align justify-content-center"> CO<sub>2</sub> Date Prediction Table</h4>
                      <table class="table">
                          <thead style="background-color: grey; border: 1px solid black; border-radius: 20px;" >
                              <tr  style="border-radius: 20px;">
                                  <th>Date</th>
                                  <th>CO<sub>2</sub></th>
                                  <th>CO<sub>2<sub>(Predicted)</sub></sub> (1 Day)</th>
                                  <th>CO<sub>2<sub>(Predicted)</sub></sub> (1 Week)</th>
                                  <th>CO<sub>2<sub>(Predicted)</sub></sub> (1 Month)</th>
                              </tr>
                              
                          </thead>
                          <tbody id="myTable3">
                              
                          </tbody>
                      </table>   
                  </div>
              </br>
              <hr>
                  <div class="col-12">
                      <table class="table">
                          <h4 class="text-align justify-content-center"> CO Date Prediction Table</h4>
                          <thead style="background-color: grey; border: 1px solid black; border-radius: 20px;" >
                              <tr  style="border-radius: 20px;">
                                  <th>Date</th>
                                  <th>CO</th>
                                  <th>CO<sub>(Predicted)</sub> (1 Day)</th>
                                  <th>CO<sub>(Predicted)</sub> (1 Week)</th>
                                  <th>CO<sub>(Predicted)</sub> (1 Month)</th>
                              </tr>
                              
                          </thead>
                          <tbody id="myTable4">
                              
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
           -->
      <!-- </section> -->
<section style="overflow: hidden;">

    <div class="col-12 col-md-10 offset-md-1">
        <div class="table-responsive">
            <h1 class = "text-align">Tabular Data of Air Pollutants</h1>
            <br />
            <div class="col-12">
             <input type="checkbox" id="isNo2Checked" name="isNo2Checked" value="NO2">
             <label for="isNo2Checked"> Nitrogen Dioxide</label><br>
             <input type="checkbox" id="isSo2Checked" name="isSo2Checked" value="SO2">
             <label for="isSo2Checked"> Sulphur Dioxide</label><br>
             <input type="checkbox" id="isCo2Checked" name="isCo2Checked" value="CO2">
             <label for="isSo2Checked"> Carbon Dioxide</label><br>
            </div>
            <br />
            <div class="col-12">
                <img src="map_grad.jpg" alt="Map with Grid points" id="map_grd">
            </div>
        </div>
        </div>
    </section>
            
            <br />
            <div id="no2_table" style="overflow: auto; padding: 15px;">
         </div>
         <div id="so2_table" style="overflow: auto; padding: 15px;">
         </div>
         <div id="co2_table" style="overflow: auto; padding: 15px;">
       </div>

      <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

        <!-- <script>

            fetch("all_rand_data_json_2.json").then(response=>response.json()).then(data=>{
                console.log(data)
                var myArray = data
                buildTable(myArray,'myTable',0,15)
                buildTable(myArray,'myTable2',20,35)
                buildTable(myArray,'myTable3',40,55)
                buildTable(myArray,'myTable4',60,75)
            })
        
        
            function buildTable(data , id, i0, i1){
                var table = document.getElementById(id)
                var x = i1-i0
                for (var i = i0; i < i1; i++){
                    var row = `<tr>
                                    <td>${data[x].Date}</td>
                                    <td>${data[i].NO2}</td>
                                    <td>${data[i].SO2}</td>
                                    <td>${data[i].CO2}</td>
                                    <td>${data[i].CO}</td>
                              </tr>`
                    table.innerHTML += row
        
                    x=x-1
                }
            }
        
        </script> -->

        <script>

$(document).ready(function(){
            $('#isNo2Checked').click(function() {
                var  dts = new Date($('#start-date-input').val())
                var  dte = new Date($('#end-date-input').val())
                var color = ['#fff','#e91605','#e95b05','#e87c21','#e89606','#e79d1a','#e8ab05','#e8c006','#e8e406','#e8054c','#e93b34','#df7136','#ea8444','#de921a','#e8b22b','#dfa911','#d7e806','#e9058c','#e94061','#ea675f','#ea675f','#d6885a','#d69e4b','#d6c805','#c9d505','#d4058b','#d43575','#d55673','#c58e6f','#c68a4e','#b88a4f','#b8ab39','#b8d606','#a20499','#a13b84','#a16372','#a08067','#a19974','#a29d63','#a2a939','#a2a939','#7a0498','#7a3e96','#7a6286','#798480','#79957e','#7aa27d','#7ab575','#7ab575','#500498','#58318a','#425573','#436b73','#438e6f','#41ad6f','#3ba13b','#3ba13b','#0a0498','#044798','#047d98','#047f7c','#016d55','#05aa72','#04aa3e','#0baa05'];
                $("#no2_table").toggle(this.checked);
                
                $.ajax({
                    url:"no2_data.csv",
                        dataType:"text",
                        success:function(data)
                        {
                            var ate = true;
                            var employee_data = data.split(/\r?\n|\r/);
                            var table_data = '<h5>NO<sub>2</sub> Data Table</h5><table class="table table-bordered table-striped">';
                                for(var count = 0; count<employee_data.length; count++)
                                {
                                    var cell_data = employee_data[count].split(",");
                                    table_data += '<tr>';
                                        for(var cell_count=0; cell_count<cell_data.length; cell_count++)
                                        {
                                            if(count === 0)
                                            {
                                                if(ate){
                                                    table_data += '<th>'+cell_data[cell_count]+'</th>';
                                                    ate = false;
                                                }
                                                else{
                                                    table_data += '<th style= "opacity:0.7; background-color: '+color[cell_count]+';color:black;">'+cell_data[cell_count]+','+cell_data[cell_count+1]+'</th>';
                                                    cell_count += 1;
                                        
                                                }
                                            }
                                            else
                                {
                                    var temp = new Date(cell_data[0])
                                    if(temp > dts && temp<dte){
                                        table_data += '<td>'+cell_data[cell_count]+'</td>';
                                    }
                                }
                            }
                            table_data += '</tr>';
                        }
                        table_data += '</table>';
                        $('#no2_table').html(table_data);
                    }
                });
            });
            
        });
        
        
        $(document).ready(function(){
            $('#isSo2Checked').click(function() {
                var  dts = new Date($('#start-date-input').val())
                var  dte = new Date($('#end-date-input').val())
                var color = ['#fff','#e91605','#e95b05','#e87c21','#e89606','#e79d1a','#e8ab05','#e8c006','#e8e406','#e8054c','#e93b34','#df7136','#ea8444','#de921a','#e8b22b','#dfa911','#d7e806','#e9058c','#e94061','#ea675f','#ea675f','#d6885a','#d69e4b','#d6c805','#c9d505','#d4058b','#d43575','#d55673','#c58e6f','#c68a4e','#b88a4f','#b8ab39','#b8d606','#a20499','#a13b84','#a16372','#a08067','#a19974','#a29d63','#a2a939','#a2a939','#7a0498','#7a3e96','#7a6286','#798480','#79957e','#7aa27d','#7ab575','#7ab575','#500498','#58318a','#425573','#436b73','#438e6f','#41ad6f','#3ba13b','#3ba13b','#0a0498','#044798','#047d98','#047f7c','#016d55','#05aa72','#04aa3e','#0baa05'];
                $("#so2_table").toggle(this.checked);
                
                $.ajax({
                    url:"so2_data.csv",
                        dataType:"text",
                        success:function(data)
                        {
                            var ate = true;
                            var employee_data = data.split(/\r?\n|\r/);
                            var table_data = '<h5>SO<sub>2</sub> Data Table</h5><table class="table table-bordered table-striped">';
                                for(var count = 0; count<employee_data.length; count++)
                                {
                                    var cell_data = employee_data[count].split(",");
                                    table_data += '<tr>';
                                        for(var cell_count=0; cell_count<cell_data.length; cell_count++)
                                        {
                                            if(count === 0)
                                            {
                                                if(ate){
                                                    table_data += '<th>'+cell_data[cell_count]+'</th>';
                                                    ate = false;
                                                }
                                                else{
                                                    table_data += '<th style= "opacity:0.7; background-color: '+color[cell_count]+';color:black;">'+cell_data[cell_count]+','+cell_data[cell_count+1]+'</th>';
                                                    cell_count += 1;
                                        
                                                }
                                            }
                                            else
                                {
                                    var temp = new Date(cell_data[0])
                                    if(temp > dts && temp<dte){
                                        table_data += '<td>'+cell_data[cell_count]+'</td>';
                                    }
                                }
                            }
                            table_data += '</tr>';
                        }
                        table_data += '</table>';
                        $('#so2_table').html(table_data);
                    }
                });
            });
            
        });
        
        $(document).ready(function(){
            $('#isCo2Checked').click(function() {
                var  dts = new Date($('#start-date-input').val())
                var  dte = new Date($('#end-date-input').val())
                var color = ['#fff','#e91605','#e95b05','#e87c21','#e89606','#e79d1a','#e8ab05','#e8c006','#e8e406','#e8054c','#e93b34','#df7136','#ea8444','#de921a','#e8b22b','#dfa911','#d7e806','#e9058c','#e94061','#ea675f','#ea675f','#d6885a','#d69e4b','#d6c805','#c9d505','#d4058b','#d43575','#d55673','#c58e6f','#c68a4e','#b88a4f','#b8ab39','#b8d606','#a20499','#a13b84','#a16372','#a08067','#a19974','#a29d63','#a2a939','#a2a939','#7a0498','#7a3e96','#7a6286','#798480','#79957e','#7aa27d','#7ab575','#7ab575','#500498','#58318a','#425573','#436b73','#438e6f','#41ad6f','#3ba13b','#3ba13b','#0a0498','#044798','#047d98','#047f7c','#016d55','#05aa72','#04aa3e','#0baa05'];
                $("#co2_table").toggle(this.checked);
                
                $.ajax({
                    url:"co2_data.csv",
                    dataType:"text",
                    success:function(data)
                    {
                        var ate = true;
                        var employee_data = data.split(/\r?\n|\r/);
                        var table_data = '<h5>CO<sub>2</sub> Data Table</h5><table class="table table-bordered table-striped">';
                            for(var count = 0; count<employee_data.length; count++)
                            {
                                var cell_data = employee_data[count].split(",");
                                table_data += '<tr>';
                                    for(var cell_count=0; cell_count<cell_data.length; cell_count++)
                                    {
                                        if(count === 0)
                                        {
                                            if(ate){
                                                table_data += '<th>'+cell_data[cell_count]+'</th>';
                                                ate = false;
                                            }
                                            else{
                                                table_data += '<th style= "opacity:0.7; background-color: '+color[cell_count]+';color:black;">'+cell_data[cell_count]+','+cell_data[cell_count+1]+'</th>';
                                                cell_count += 1;
                                                
                                            }
                                        }
                                else
                                {
                                    var temp = new Date(cell_data[0])
                                    if(temp > dts && temp<dte){
                                        table_data += '<td>'+cell_data[cell_count]+'</td>';
                                    }
                                }
                            }
                            table_data += '</tr>';
                        }
                        table_data += '</table>';
                        $('#co2_table').html(table_data);
                    }
                });
            });
                
        });
        </script>
            
            
        </body>
        </html>
